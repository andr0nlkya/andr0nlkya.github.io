<html>
<head>
<title>Поиск по сайту 1.1</title>

<style>
table {
	   font-family:"Times New Roman", "serif";
	   font-size:11pt;
	   color:#494949;
   }


    #menu  {
           margin-bottom:30px;
           }
   #menu A { text-decoration:none;
             color:#C0C0C0;
             font-size:10pt;
             font-weight:500;
             font-family:"Times New Roman", "serif";
             font-weight:700;
           }


A:Link,A:Visited,A:Active {
	                        Color: #0080C0; Text-decoration: none
	                      }
A:Hover{
Color: #0080C0; Text-decoration: underline
        }
</style>

</head>
<body>

<table bgcolor=#800000 width=100% id=menu><tr>

<td width=10%>
  <img src="admin/img/logo.png" alt="" border="0">
</td>
<td>
<font color=#ffffff size=+1>Домашние скрипты</font>
</td>
<td align=right valign=top>
 <a href="http://homescript.ru/index.php">Главная</a>&nbsp;&nbsp;
 <a href="http://homescript.ru/script.php">Скрипты</a>&nbsp;&nbsp;
 <a href="http://homescript.ru/load.php">Загрузить</a>&nbsp;&nbsp;
 <a href="http://homescript.ru/book/index.php">Гостевая</a>&nbsp;&nbsp;
 <a href="http://homescript.ru/forum/index.php">Форум</a>&nbsp;&nbsp;

</td>
</tr></table>

 <table width=80% align=center border=0 cellpadding=20>
 <tr><td>
 <h2>Поиск по сайту 1.1</h2>
<a name="cont"><h3>Содержание</h3></a>

 &nbsp;&nbsp;&nbsp;&nbsp;<a href="#about">О программе</a><br>
 &nbsp;&nbsp;&nbsp;&nbsp;<a href="#about_news">Новое в версии</a><br>
 &nbsp;&nbsp;&nbsp;&nbsp;<a href="#install">Установка</a><br>
 &nbsp;&nbsp;&nbsp;&nbsp;<a href="#options">Настройки</a><br>
 &nbsp;&nbsp;&nbsp;&nbsp;<a href="#opt">Ещё раз об оптимизации поиска</a><br>
 &nbsp;&nbsp;&nbsp;&nbsp;<a href="#site">О сайте</a>
 </td></tr>
 <tr>
 <td>



  <a name="about"><h4>Кратко о программе</h4></a>
 <p align="justify">
  версия 1.1 от 15.01.08<br>
Автор Шестопалов Сергей <br>
<a href="mailto:admin@homescript.ru">admin@homescript.ru</a> <br>
<a href="http://homescript.ru ">http://homescript.ru </a><br>
<a href="http://softmedlist.ru">http://softmedlist.ru</a> <br><br>
<b>Требования</b><br>

При написании скрипта использованы технологии <font color=#0080FF>CSS PHP HTML JS</font>
Требование к программе: <font color=#0080FF>PHP</font>, установленный
на сервере вашего хостера. Как правило на платном хостинге так и бывает. <br>
Баз данных скрипт не использует, информация сохраняется в файлах. <br>
На сайте функционирует <a href="http://homescript.ru/demo/search/admin">демо-панель </a>
управления, где доступны многие настройки.<br><br>

<b>Распространяется</b> бесплатно, но если вам понравился скрипт, то в целях
поддержания проекта можете перечислить 1-2 у.е. на кошельки<br>
 <font color=#0080FF><a href="http://www.webmoney.ru">WebMoney</a></font><br>
Z260716372758<br>
R551881391400<br>

<a href="http://yandex.ru"><font color=red size=+1>Я</font><font color=#000000>ндекс</font>-деньги</a><br>
4100136395113   </p>
<div align="right"><a href="#cont">Оглавление</a></div>


<br><br>
<b>Описание</b><br>
Производит поиск по сайту заданной строки при помощи формы, удобно встраивающейся в страницу. Форма содержит
инструменты для подробного поиска: искать точное совпадение, учитывать регистр, искать
фразу целиком или разбивать на слова.<br>
Выводит: ссылку на документ, где обнаружена
искомая строка и его название, предложение, где она может встречаться, количество совпадений в документе, а также
ссылку на  текстовую копию документа с минимальным форматированием.<br>
Настройка производится через админпанель. Доступны все настройки внешнего вида поисковой формы и
страницы с результатами поиска, тип документов по расширению, где будет производиться поиск. Можно определить,
в каких каталогах и документах искать, или наоборот, какие области сайта блокировать для поиска. <br>
Ведётся журнал поисковых запросов.

   </p>
<div align="right"><a href="#cont">Оглавление</a></div>

 <a name="about_news"><h4>Новое в версии</h4></a>
 <p align="justify">
 Исправлены ошибки:<br>
 1. Неправильная интерпритация каталогов для поиска<br>
 2. При установке формы на страницу не в корневом каталоге, форма не находила скрипт.

 <h5>Переход на новую версию</h5>
 Скачать заново скрипт и заменить файлы<br>
 form.php<br>
 search.php<br>
 admin/admin3.php
 </p>
<div align="right"><a href="#cont">Оглавление</a></div>

   <a name="install"><h4>Установка</h4></a>
 <p align="justify">
<b>1.</b> Распакуйте папку со скриптом на сервер в корневую директорию (там, где главная страница вашего сайта)<br>
<b>2.</b> Обратите внимание на файл .htaccess (он имеется в архиве со скриптом). Его нужно поместить в
корневую директорию (туда же, куда поместили папку со скриптом, т.е. где главная страница вашего сайта). Возможно,
 что такой файл
у вас имеется. В этом случае откройте ваш файл и сравните его содержимое с моим (как правило эти файлы содержат 2-4
строки). Если в вашем файле таких строк нет, скопируйте их к себе. После этого мой файл можно удалить.<br>
Этот файл предназначен для работы php скриптов на html-страницах.<br>
<b>Внимание!</b> Этот файл нужен только в том случае, если вы хотите установить блок не на php страницу
(имеет расширение .php).<br>

<b>3.</b> В админ панели вашего хостера или в любом ftp-клиенте установите атрибуты файлов и папок скрипта  777 <br>

<b>4.</b> Зайдите в панель управления по адресу <font color=#005CB9>http://ваш_сайт/search/admin</font>
Логин <b>admin</b> Пароль <b>111</b> Поменяйте логин и пароль. <br>

<b>5.</b> На те страницы вашего сайта, где вы хотите видеть поисковую фрму, установите такой код:
<pre><font color=#408080 ><b>
&lt;?php

//Установка поиска по сайту
$strpath="search/form.php";
$adrself=getcwd();
for($i=0; $i<100; $i++)
 {
    if(file_exists("public_html"))break;
    if (!file_exists($strpath)) chdir("..");
    else break;
 }
include ('search/form.php');
chdir($adrself);
 ?&gt;
</b></font></pre>
<p align="justify">
Здесь нужно обратить внимание на следующее: нельзя исключить, что вы вставите этот фрагмент
кода внутрь вашего php -скрипта (т.е. внутрь скобок  <font color=#408080><b>&lt;?php&nbsp;&nbsp;  ?&gt;</b></font>),
тогда вставлять код нужно без этих скобок!
   </p>
<div align="right"><a href="#cont">Оглавление</a></div>



 <a name="options"><h4>Настройки</h4></a>
        <p align="justify">
        Вся работа производится через панель управления. После установки скрипта
        перейдите по ссылке <font color=#005CB9>http://ваш_сайт/search/admin</font>
        Наберите логин <b>admin</b> пароль 111
        <h5>Внешний вид</h5>
       Здесь имеются все настройки внешнего вида поисковой формы и страницы с результатами поиска.
       Каждая настройка описана. Единственно, на что надо обратить внимание-это на термин "Блоки".
       Имеется ввиду Главный блок-содержание всех результатов поиска и Блок одного результата- информация
       об одном документе, где была найдена поисковая строка. И тот и другой имеют свои настройки.

         <h5>Управление кодом</h5>
         Здесь настраиваете внешний вид страницы, где выводятся результаты поиска. Собственно
         здесь вы можете встроить код вашего сайта для того, чтобы сохранить дизайн и сделать эту страницу похожей на
         остальные страницы вашего сайта.
        <h5>Логин и пароль</h5> В скрипте логин и пароль не храняться. Это сделано в целях безопасности.
        Даже если взломщику и удастся увести файл с паролями, потребуется длительное время для расшифровки.
        Поэтому при загрузке панели управления окошки с логином и паролем остаются пустыми.
        Если вы хотите заменить логин и пароль (или только одно какое-либо значение),
        заполняйте оба окошка. Логин и пароль <b>не меняются </b> если значения не заполнены,или заполнено только
        одно какое-либо значение.<br>
        Если вы забыли логин или пароль и не можете зайти в панель, нужно скачать скрипт заново и заменить файл
        search/admin/conf/conf.txt- тогда логин и пароль снова будут admin  111
        <h5>Оптимизация поиска</h5>
        Здесь вы можете определить-где искать, или где не искать. Определите типы документов для сканирования
        по расширениям. Поиск должен производиться только в web-документах (html, htm, mht, php, php4, php5 и пр.)
        или в текстовых документах txt. Если вы попытаетесь ввести документы Word (doc), скрипт будет
        работать с грубыми ошибками!<br>
        Так же вы можете составить список каталогов и файлов, где искать, или наоборот, которые исключить
        из поиска. Настройки поддерживают две схемы: включения в поиск документов или исключения из него.
        Какой схемой пользоваться-решать вам. Если у вас на сайте много технической информации, напр. скриптов,
        или каталогов с изображениями, проще звполнить список каталогов и (или) файлов, где следует искать, затем
        поставить точку на <b>Использовать список разрешённых файлов и каталогов </b> и нажать
        <b>Выбрать схему</b>, если у вас большинство информационных страниц, проще исключить из поиска
        каталоги и (или) файлы, где искать не нужно (т.е. заполнить Список для файлов, не подлежащих сканированию.),
        поставить точку на <b>Использовать список запрещённых файлов и каталогов </b> и нажать
        <b>Выбрать схему</b>
                                          <div align="right"><a href="#cont">Оглавление</a></div>

        <a name="opt"><h4>Ещё раз об оптимизации поиска</h4></a>
        <p align="justify">
        Уверен, что у вас уже есть опыт установки и настройки скриптов. Тогда эти разделы справки можно пропустить.
         Но с данным разделом настоятельно рекомендуется ознакомиться. Во-первых потому, что от этого зависит
          скорость и корректность поиска, во-вторых- безопасность вашего сайта! <br>
Итак, название документа, где найдена строка, берётся из html -кода страницы, а именно из тега &lt;title&gt;
Если этого тега на странице нет, будет выводиться Документ без названия. Проследите за тем, чтобы все документы
 на вашем сайте имели уникальные названия, соответствующие содержанию документа. Очень часто этот тег содержит
  просто название сайта и располагается на общей странице для всех документов, содержащей, напр., шапку сайта,
   включённой в них при помощи include . Удобно? Удобно.Но такой вариант нам не подходит. Если у вас именно такая
    схема, удалите с общей страницы &lt;title&gt; и установите на каждой странице. Тогда вместо безликого Документ
     без названия будет выводится уникальное имя документа.<br>
Обязательно определите область поиска путём включения в поиск файлов и (или) каталогов или путём их исключения
 из поиска. Для этого в админпанели нужно заполнить соответствующие списки запрещённых или разрешённых для поиска
  файлов и каталогов. Ведь скрипт сканирует весь сайт, т.е. всю область, которая ему разрешена. А на его пути могут
   встретиться исходные коды, или файлы с паролями. И будет выводится на странице поиска бесполезная, а то
    и критичная для безопасности вашего сайта, информация. Вносите с учётом пути: например, у вас есть каталог
     со скриптом по адресу http://ваш_сайт/scripts/script<br>
Т.к. в папке со скриптом кроме исходного кода и служебной информации как правило ничего не бывает, запрещаем его
 для поиска, т.е. вносим в список запрещённых каталогов так: scripts/script
Как видите, http://ваш_сайт/ мы опустили. <br>
С файлами тоже самое. Допустим, есть файл с паролями http://ваш_сайт/каталог/pwl.txt Мы бы могли просто запретить
 доступ в этот каталог, но там содержатся и другие документы, важные для поиска.
 Тогда вносим его в список запрещённых файлов так: каталог/pwl.txt  <br>
Смысл заполнять оба вида списков (т.е. для разрешённых и для запрещённых файлов и каталогов)
 есть только в том случае, если вы не решили, каким списком будете пользоваться.
А как решить? Допустим, сайт забит скриптами (как у меня) и есть несколько документов, содержащих полезную информацию.
Тогда внесите в список разрешённых файлов эти документы, другие списки оставьте пустыми.
Или наоборот несколько скриптов и много документов. Тогда запретите каталоги со скриптами и всё.<br>
После заполнения списков выберите, каким списком (запретительным или разрешительным) вы воспользуетесь.
В разделе "Выбрать схему" установите точку напротив соответствующего списка.
Если заполнен только один вид (напр. Список для файлов, подлежащих сканированию и(или)
Список для каталогов, подлежащих сканированию.) ставьте точку Использовать список разрешённых файлов и каталогов.



                                          <div align="right"><a href="#cont">Оглавление</a></div>


        <a name="site"><h4>О сайте</h4></a>
        <p align="justify">
          Проект <a href="http://homescript.ru">Домашние скрипты</a> посвящён сценариям для домашних страничек.
          На сайт будут выкладываться авторские скрипты для
интерактивного общения с посетителями: форумы, гостевые книги, чаты, различные формы для комментариев,
отправки сообщений; сбора статистики: скачивания и просмотра файлов, посещений вашего ресурса; формирования
документов и пр.<br>
При разработке сценариев я пытался учесть следующие четыре момента:<br>
Не обязательно web-мастер должен знать программирование, поэтому интеграция скрипта в ваш сайт должна
быть максимально удобной (на уровне скопировал-вставил-добавил ссылку). <br>
Управлять скриптами можно с помощью текстовых файлов, но куда удобнее делать то же, но через интуитивно
понятную панель управления.<br>
Как правило хостеры предоставляют ограниченное количество баз данных, за дополнительные нужно платить,
поэтому я пытаюсь обходиться без них.<br>
Интерактивные приложения для общения с посетителями сразу начинают атаковать спамеры, горе-взломщики и
просто любители поматериться на чужих форумах, поэтому такие программы должны иметь защиту от подобных
посягательств. <br>
Сейчас на сайте доступно десять скриптов для различных нужд. В разработке форум, не требующий баз данных.
        </p><div align="right"><a href="#cont">Оглавление</a></div>
        <p><div align="center">
        &copy; Шестопалов Сергей МОСКВА 2007</div></p>


 </td>

 </tr></table>

</body>
</html>